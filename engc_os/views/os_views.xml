<odoo>
  <data>
    <!-- explicit list view definition -->

    <record model="ir.ui.view" id="engc_os.list">
      <field name="name">Ordens de Serviço</field>
      <field name="model">engc.os</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name" />
          <field name="create_date" string="Criado em" />
          <field name="create_uid" string="Criado por" widget="many2one_avatar_user" />
          <field name="company_id" string="Instituição" groups="base.group_multi_company" />
          <field name="equipment_id" />
          <field name="equipment_serial_number" />
          <field name="equipment_model" />
          <field name="equipment_category" />
          <field name="solicitante" />
          <field name="date_scheduled" widget="remaining_days" />
          <field name="maintenance_type" />
          <field name="state" widget="badge" />

        </tree>

      </field>
    </record>
    <record model="ir.ui.view" id="engc_os.form">
      <field name="name">Ordens de Serviço</field>
      <field name="model">engc.os</field>
      <field name="arch" type="xml">

        <form string="Ordem de serviço">
          <header>
            <!-- <button name="" string="" class="oe_highlight" states="" type=""/> -->
            <field name="state" widget="statusbar" statusbar_visible="draft" />
          </header>


          <sheet string="Ordem de Serviço">
            <div class="oe_title">
              <h1>
                <field name="name" />
              </h1>
              <label for="company_id" class="oe_edit_only" />
              <h2>
                <field name="company_id" groups="base.group_multi_company"  
                options="{'no_create': True, 'no_create_edit':True}"
                  />
              </h2>
              <h2>
                <field name="origin" readonly="1" />
              </h2>

            </div>
            <group string="Dados do equipamento">
              <group>
                <field name="equipment_id" domain="[('company_id', '=', company_id)]" 
                  options="{'no_create': True, 'no_create_edit':True}"
                 />
                <field name="equipment_model" />
                <field name="equipment_category" />
              </group>
              <group>
                <field name="equipment_serial_number" />
                <field name="equipment_patrimonio" string="Patrimônio" />
                <field name="equipment_tag" string="Tag" />
              </group>
            </group>
            <group string="Dados da OS">
              <group>

                <field name="solicitante" />
                <field name="who_executor" widget="selection" />
                <field name="tecnico_id" attrs="{'invisible': [('who_executor','!=','interna')], 'required':[('who_executor','=','interna')]}"
                   
                />
                <field name="empresa_manutencao" attrs="{'invisible': [('who_executor','!=','externa')],'required':[('who_executor','=','externa')]}" />
                <field name="maintenance_type" />
                <field name="priority" widget="priority" />

              </group>
              <group>
                <field name="date_scheduled" />
                <field name="date_execution" />
                <field name="date_start" />
                <field name="date_finish" />
              </group>
            </group>
            <group>


              <field name="problem_description" />
              <field name="service_description"  />
            </group>
          </sheet>
          <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers" />
            <field name="message_ids" widget="mail_thread" />
          </div>


        </form>

      </field>
    </record>


  </data>
</odoo>