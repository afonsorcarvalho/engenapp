<odoo>
  <data>


    <record model="ir.ui.view" id="engc_os.equipments_list">
      <field name="name">Equipamentos List</field>
      <field name="model">engc.equipment</field>
      <field name="arch" type="xml">
        <tree>
          <field name="id" optional="show"/>
          <field name="name" />
          <field name="apelido" string="Apelido" groups="base.group_no_one" />
          <field name="serial_number" />
          <field name="create_date" string="Criado em" optional="hide"/>
          <field name="create_uid" string="Criado por" widget="many2one_avatar_user" optional="hide"/>
          <field name="create_date" string="Criado em" optional="hide"/>
          <!-- <field name="section_id" /> -->
          <field name="department" />
          <field name="company_id" />
          <field name="model" optional="hide"/> 
          <field name="category_id" optional="hide" />

          <!-- <field name="picture_ids" /> -->
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="engc_os.equipments_form">
      <field name="name">Equipamentos Form</field>
      <field name="model">engc.equipment</field>
      <field name="arch" type="xml">
        <form string="Equipamentos">
          <header>
            <button name="action_in_use" string="Em uso" class="oe_highlight"
              states="draft,useless,out_of_use" type="object" />
            <button name="action_out_of_use" string="Fora de uso" states="in_use,draft"
              type="object" />
            <button name="action_useless" string="Sucata" states="in_use,out_of_use" type="object" />
            <button name="%(engc_os.report_equipment_cronograma)d" string="Imprimir Cronograma" type="action" class="oe_highlight" icon="fa-print"/>
            <field name="state" widget="statusbar" />
          </header>
          <sheet>
            <field name="image_1920" widget='image' class="oe_avatar" />
            <h2>
              <field name="name" />
            </h2>
            <group>
              <group>

                <field name="apelido" string="Apelido" groups="base.group_no_one" />
              </group>
            </group>


            <notebook>

              <page string="Dados do Equipamento">
                <group>
                  <group>
                    <field name="marca_id" />
                    <field name="partner_reference" />
                    <field name="model" />
                    <field name="category_id" />
                  </group>
                  <group>
                    <field name="serial_number" />
                    <field name="patrimony" />
                    <field name="tag" />
                    <field name="anvisa_code" />
                  </group>
                  <group>
                    <field name="manufacturing_date" />
                    <field name="instalation_date" />
                    <field name="acquisition_date" />
                    <field name="warranty" />
                    <field name="extended_warranty" />
                  </group>
                  <group>
                    <!-- <field name="section_id" /> -->
                    <field name="department" required="1"/>
                    <field name="location_id" required="1"/>
                    <field name="means_of_aquisition_id" />
                    <field name="note" />
                  </group>
                </group>
                
              </page>
              <page string="Ordens de Serviço">
                <field name="oses" nolabel="1">
                  <!-- <control>
                      <create string="Adicionar Ordem de Serviço"/>
                    </control> -->
                </field>
              </page>
              <page string="Calibrações e Ensaios">
                <field name="calibrations_ids" nolabel="1">
                  <!-- <control>
                      <create string="Adicionar calibração"/>
                    </control> -->
                </field>
              </page>


              <page string="Componentes e acessórios">
                <field name="child_ids" nolabel="1"
                />
              </page>
              <page string="Fotos">
                <group>
                  <field name="picture_ids" nolabel="1">
                    <kanban>
                      <templates>
                        <t t-name="kanban-box">
                          <div
                            class="oe_kanban_global_click o_kanban_record_has_image_fill o_hr_kanban_record">
                            <field name="picture" widget="image" class="oe_avatar"
                              options="{'zoom': true}" style="margin-right:50px" />
                            <div class="oe_kanban_details">
                              <div class="o_kanban_record_top">

                                <div class="o_kanban_record_title">
                                  <b>
                                    <field name="name" />
                                  </b>
                                </div>
                              </div>
                              <div class="o_kanban_record_body">
                                <field name="description" />
                              </div>
                            </div>
                          </div>
                        </t>
                      </templates>
                    </kanban>
                    <form>
                      <sheet>
                        <group>
                          <field name="name" />
                          <field name="description" />
                          <field name="picture" widget="image" />
                        </group>
                      </sheet>
                    </form>
                  </field>
                </group>
              </page>
              <page string="Histórico de Paradas">
                
                    <field name="stop_history_ids" readonly="1" >
                    <tree>
                      <field name="date_time"/>
                      <field name="relatorio_id"/>
                      <field name="state"/>
                    </tree>
                    </field>
                 
                
              </page>
              <page string="Outros">
                <group>
                  <group>
                    <field name="company_id" />
                    <field name="parent_id" />
                    <field name="client_id" />
                    <field name="maintenance_team_id" />
                    <field name="maintenance_plan" />
                  </group>
                </group>
                <group >
                  <group>
                  </group>
                </group>
              </page>
            </notebook>


          </sheet>
          <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers" />
            <field name="message_ids" widget="mail_thread" />
          </div>
        </form>

      </field>
    </record>

    

  
  <!-- <record id="engc_os.equipment_search_view" model="ir.ui.view">
      <field name="name">equipment.search.view</field>
      <field name="model">engc.equipment</field>
      <field name="arch" type="xml">
          <search string="Filtros">
              <field name="name" filter_domain="[('name', 'ilike', self)]" string="Nome"/>
              <field name="apelido" filter_domain="[('apelido', 'ilike', self)]" string="Apelido"/>
              <field name="serial_number" filter_domain="[('serial_number', 'ilike', self)]" string="Número de Série"/>
              <group expand="0" string="Agrupar por Setor">
                <filter context="{'group_by': 'section_id'}" name="group_section_id" string="Departamento"/>
              </group>
          </search>
          <searchpanel>
            <field name="company_id" />
            <field name="category_id" />
            <field name="state" />
            
           
           
            
        </searchpanel>
      </field>
  </record> -->

    <record id="engc_os.equipment_pivot_view" model="ir.ui.view">
      <field name="name">equipment.pivot.view</field>
      <field name="model">engc.equipment</field>
      <field name="arch" type="xml">
          <pivot>
              <!-- <field name="section_id" type="row" string="Setor"/> -->
              <field name="department" type="row" string="Setor"/>
              <field name="category_id" type="col" string="Categoria"/>
             
          </pivot>
      </field>
  </record>
  <record id="engc_os.equipment_kanban_view" model="ir.ui.view">
    <field name="name">equipment.kanban.view</field>
    <field name="model">engc.equipment</field>
    <field name="arch" type="xml">
        <kanban>
            <templates>
                <t t-name="kanban-box" >
                 
                    <div class="oe_kanban_global_click o_kanban_record_has_image_fill o_hr_kanban_record">
                        <field name="image_1920" widget="image" class="oe_avatar" options="{'zoom': true}" style="max-width: 60px; max-height: 60px;margin-right: 50px"/>
                        <div class="oe_kanban_details">
                            <div class="o_kanban_record_top">
                              <div class="o_kanban_record_headings">
                                
                                    <b>
                                        <field name="name"/>
                                    </b>
                                    
                                    <small class="o_kanban_record_subtitle text-muted">
                                      <field name="apelido"/>
                                    </small>

                                
                              </div>
                              <div
                                    class="o_dropdown_kanban dropdown"
                                    t-if="!selection_mode"
                                    groups="base.group_user"
                                >
                                    <a
                                        role="button"
                                        class="dropdown-toggle o-no-caret btn"
                                        data-toggle="dropdown"
                                        data-display="static"
                                        href="#"
                                        aria-label="Dropdown menu"
                                        title="Dropdown menu"
                                    >
                                        <span class="fa fa-ellipsis-v" />
                                    </a>
                                    <div class="dropdown-menu" role="menu">
                                        <a
                                            t-if="widget.editable"
                                            role="menuitem"
                                            type="edit"
                                            class="dropdown-item"
                                        >Edit</a>
                                        <a
                                            t-if="widget.deletable"
                                            role="menuitem"
                                            type="delete"
                                            class="dropdown-item"
                                        >Delete</a>
                                        <div
                                            role="separator"
                                            class="dropdown-divider"
                                        />
                                        <ul
                                            class="oe_kanban_colorpicker"
                                            data-field="color"
                                        />
                                    </div>
                                </div>
                            </div>
                            <div class="o_kanban_record_body">
                                <small>
                                  <field name="department"/>
                                  <!-- <field name="section_id"/> -->
                                </small>
                            </div>
                            <div class="o_kanban_record_bottom">
                              <!-- <div class="oe_kanban_bottom_left">
                                  <field name="priority" widget="priority" />
                                  <field
                                      name="activity_ids"
                                      widget="kanban_activity"
                                      related="activity_state"
                                  />
                              </div> -->
                              <div class="oe_kanban_bottom_right">
                                  <!-- <field
                                      name="kanban_state"
                                      widget="state_selection"
                                  />
                                  <field name="activity_state" invisible="1" /> -->
                                 <field name="state"/>
                              </div>
                          </div>
                        </div>
                    </div>
                  
                </t>
            </templates>
        </kanban>
    </field>
</record>

    <!-- Tree View -->
    <record id="view_tree_means_of_acquisition" model="ir.ui.view">
        <field name="name">means.of.acquisition.tree</field>
        <field name="model">engc.equipment.means.of.aquisition</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
            </tree>
        </field>
    </record>

    <!-- Form View -->
    <record id="view_form_means_of_acquisition" model="ir.ui.view">
        <field name="name">means.of.acquisition.form</field>
        <field name="model">engc.equipment.means.of.aquisition</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="name"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_tree_equipments_section" model="ir.ui.view">
      <field name="name">equipments.section.tree</field>
      <field name="model">engc.equipment.section</field>
      <field name="arch" type="xml">
          <tree>
              <field name="display_name"/>
              <field name="description"/>
              <field name="section_parent"/>
              <field name="company_id" />
          </tree>
      </field>
  </record>

  <record id="view_form_equipments_section" model="ir.ui.view">
    <field name="name">equipments.section.form</field>
    <field name="model">engc.equipment.section</field>
    <field name="arch" type="xml">
        <form>
            <sheet>
                <group>
                    <field name="name"/>
                    <field name="company_id" />
                    <field name="description"/>
                    <field name="section_parent"/>
                   
                </group>
            </sheet>
        </form>
    </field>
</record>

<record id="view_tree_maintenance_team" model="ir.ui.view">
  <field name="name">maintenance.team.tree</field>
  <field name="model">engc.equipment.maintenance.team</field>
  <field name="arch" type="xml">
      <tree>
          <field name="name"/>
          <field name="company_id" groups="base.group_multi_company"/>
          <!-- <field name="team_members"/> -->
      </tree>
  </field>
</record>
<record id="view_form_maintenance_team" model="ir.ui.view">
  <field name="name">maintenance.team.form</field>
  <field name="model">engc.equipment.maintenance.team</field>
  <field name="arch" type="xml">
      <form>
        <sheet>
          <group>
              <group>
                  <field name="name"/>
                  <field name="company_id" />
                  <field name="members" 
                 widget="many2many_tags"
                 domain="[('company_id','=', company_id)]"

                 /> 
                </group>
                <group>
                </group>
              </group>
        </sheet>
      </form>
  </field>
</record>


  </data>
</odoo>